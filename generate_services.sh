# Generate proto files that service_generator will use.
find ./Protocol -name '*.proto' -print0 | xargs -0  \
  protoc \
         --python_out=./Tools/service_generator/protos.zip \
         --proto_path=Protocol/

# Generate Service Files using service_generator
find ./Protocol -name '*.proto' -print0 | xargs -0  \
  protoc --plugin=protoc-gen-custom=./Tools/service_generator/generate_services.py \
         --custom_out=./Sources/BattleNetKit/Services/Autogenerated \
         --proto_path=Protocol/
swiftformat ./Sources/BattleNetKit/Services/Autogenerated --swiftversion 5.0